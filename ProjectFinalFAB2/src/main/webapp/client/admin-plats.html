<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">

    <title>Gestion des plats</title>

    <!-- Bootstrap core CSS -->
    <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="admin-plats.css" rel="stylesheet">
</head>

<header>
    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 bg-white border-bottom shadow-sm">
        <h5 class="my-0 mr-md-auto font-weight-normal">Plats</h5>
        <nav class="my-2 my-md-0 mr-md-3">
            <a class="p-2 text-dark" href="#">Plats</a>
            <a class="p-2 text-dark" href="#">Commandes</a>
            <a class="p-2 text-dark" href="#">Réservations</a>
        </nav>
        <a class="btn btn-outline-primary" href="#">Déconnexion</a>
    </div>
</header>

<body>
    <div class="side-nav fixed">


                <header class="card-header">
                    <h6 class="title">Restaurants </h6>
                </header>
                <div class="filter-content">
                    <div class="card-body">
                        <form>
                            <label class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <span class="form-check-label">
                                FAB Rennes
                              </span>
                            </label> <!-- form-check.// -->
                            <label class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <span class="form-check-label">
                                FAB Nantes
                              </span>
                            </label>  <!-- form-check.// -->
                            <label class="form-check">
                                <input class="form-check-input" type="checkbox" value="">
                                <span class="form-check-label">
                                FAB Brest
                              </span>
                            </label>  <!-- form-check.// -->
                        </form>

                    </div> <!-- card-body.// -->
                </div>

    </div>


<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center" ng-app="myApp" ng-controller="customersCtrl" >
    <h1 class="display-4">Plats disponibles</h1>
    <p class="lead">
    <ul class="list-group">
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Nom</th>
            <th scope="col">PU</th>
        </tr>
        </thead>
        <tbody  ng-repeat="x in myData">
        <tr  data-toggle="modal" data-target="#modifPlat">
            <th scope="row">1</th>
            <td>{{x.name}}</td>
            <td>{{x.prix}}</td>
        </tr>
         </tbody>
    </table>
    </ul>
    </p>
    <!-- Bouton ajouter (modal) -->
    <span style="font-size: 3em;">
      <button type="button" data-toggle="modal" data-target="#ajouterModal"><i class="fas fa-plus-circle"></i></button>
    </span>
</div>

<!-- Modal pour la modifier -->
<!-- A RENDRE DYNAMIQUE -->
<div class="modal fade" id="modifPlat" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Modifier</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                ...
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                <button type="button" class="btn btn-primary">Sauvegarder</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal pour ajouter un plat -->
    <div class="modal fade" id="ajouterModal" tabindex="-1" role="dialog"  aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Ajouter un plat</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="col-md-8 order-md-1">
                        <form class="needs-validation" novalidate>
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="nomPlat">Nom du plat</label>
                                    <input type="text" class="form-control" id="nomPlat" placeholder="" value="" required>
                                    <div class="invalid-feedback">
                                        Entrer le nom du plat
                                    </div>
                                </div>
                            </div>


                            <div class="mb-3">
                                <div class="form-group">
                                    <label for="description-plat">Description</label>
                                    <textarea class="form-control" rows="5" id="description-plat"></textarea>
                                </div>
                            </div>


                            <div class="mb-3">
                                <label for="prixPlat">Prix</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" aria-label="Montant" id="prixPlat">
                                    <div class="input-group-append">
                                        <span class="input-group-text">€</span>
                                    </div>
                                </div>
                            </div>

                            <hr class="mb-4">
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="fabRennesAjoutPlat">
                                <label class="custom-control-label" for="fabRennesAjoutPlat">FAB Rennes</label>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="fabNantesAjoutPlat">
                                <label class="custom-control-label" for="fabNantesAjoutPlat">FAB Nantes</label>
                            </div>
                            <div class="custom-control custom-checkbox">
                                <input type="checkbox" class="custom-control-input" id="fabBrestAjoutPlat">
                                <label class="custom-control-label" for="fabBrestAjoutPlat">FAB Brest</label>
                            </div>
                        </form>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary">Sauvegarder</button>
                </div>
            </div>
        </div>
    </div>

<!-- Footer -->
<footer class="page-footer font-small blue">

    <!-- Copyright -->
    <div class="footer-copyright text-center py-3">© 2018 Copyright:
        <a href="https://eni-ecole.fr/"> eni-ecole.fr</a>
    </div>
    <!-- Copyright -->




<!-- Bootstrap core JavaScript
================================================== -->


    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.9.6/holder.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
        <script>
        var app = angular.module('myApp', []);
        app.controller('customersCtrl', function($scope, $http) {
            $http.get("http://10.48.101.6:8080/ProjectFinalFAB2/plates").then(function (response) {

                $scope.myData = response.data;
                console.log($scope.myData);
            });
        });

    </script>
</footer>
</body>


</html>